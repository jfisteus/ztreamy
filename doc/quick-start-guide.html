<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>A quick start guide to Ztreamy</title>
<meta name="author" content="Jesús Arias Fisteus" />
<style type="text/css">

/*
:Authors: Ian Bicking, Michael Foord
:Contact: fuzzyman@voidspace.org.uk
:Date: 2005/08/26 
:Version: 0.1.0
:Copyright: This stylesheet has been placed in the public domain.

Stylesheet for Docutils.
Based on ``blue_box.css`` by Ian Bicking
and ``html4css1.css`` revision 1.46.

Minor changes by Jesus Arias Fisteus.
*/

@import url(html4css1.css);

body {
  font-family: Arial, sans-serif;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

em, i {
  /* Typically serif fonts have much nicer italics */
  font-family: Times New Roman, Times, serif;
}

a.target {
  color: blue;
}

a.target {
  color: blue;
}

a.toc-backref {
  text-decoration: none;
  color: black;
}

a.toc-backref:hover {
  background-color: inherit;
}

a:hover {
  background-color: #cccccc;
}

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning {
  background-color: #cccccc;
  padding: 3px;
  width: 80%;
}

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title  {
  text-align: center;
  background-color: #999999;
  display: block;
  margin: 0;
}

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: #cc0000;
  font-family: sans-serif;
  text-align: center;
  background-color: #999999;
  display: block;
  margin: 0;
}

h1, h2, h3, h4, h5, h6 {
  font-family: Helvetica, Arial, sans-serif;
  border: thin solid black;
  /* This makes the borders rounded on Mozilla, which pleases me */
  -moz-border-radius: 8px;
  padding: 4px;
}

h1 {
  background-color: #444499;
  color: #ffffff;
  border: medium solid black;
}

h1 a.toc-backref, h2 a.toc-backref { 
  color: #ffffff;
}

h2 {
  background-color: #666666;
  color: #ffffff;
  border: medium solid black;
}

h3, h4, h5, h6 {
  background-color: #cccccc;
  color: #000000;
}

h3 a.toc-backref, h4 a.toc-backref, h5 a.toc-backref, 
h6 a.toc-backref { 
  color: #000000;
}

h1.title {
  text-align: center;
  background-color: #444499;
  color: #eeeeee;
  border: thick solid black;
  -moz-border-radius: 20px;
}

table.footnote {
  padding-left: 0.5ex;
}

table.citation {
  padding-left: 0.5ex
}

pre.literal-block, pre.doctest-block {
  border: thin black solid;
  padding: 5px;
}

.image img { border-style : solid;
            border-width : 2px;
}

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100%;
}

code, tt {
  color: #000066;
}

</style>
</head>
<body>
<div class="document" id="a-quick-start-guide-to-ztreamy">
<h1 class="title">A quick start guide to Ztreamy</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Jesús Arias Fisteus</td></tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#installation" id="id2">Installation</a></li>
<li><a class="reference internal" href="#upgrading-ztreamy" id="id3">Upgrading Ztreamy</a></li>
<li><a class="reference internal" href="#trying-the-installation-for-the-first-time" id="id4">Trying the installation for the first time</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id1">Introduction</a></h1>
<p>Ztreamy is a middleware for publishing streams of
semantically-described events on the Web. It is implemented on top of
the <a class="reference external" href="http://www.tornadoweb.org/">Tornado Web Server</a>.  This guide
describes how to install the software, start a simple stream and
consume its events.</p>
</div>
<div class="section" id="installation">
<h1><a class="toc-backref" href="#id2">Installation</a></h1>
<p>This guide describes how to install Ztreamy in Linux systems. It
should work also in Windows, but we have not yet tested it.</p>
<p>In order to install Ztreamy, you need an installation of Python 2.7.
Python 3 is not backwards compatible and is not supported yet.
Python is installed by default in many Linux distributions.
Therefore, its version 2.7 is probably already installed in your system.</p>
<p>You can install Ztreamy globally in your Linux installation, or in a
local directory, using <em>virtualenv</em>. The latter is probably better if
you just want to try Ztreamy, because this way it can be safely
removed just by removing the <em>virtualenv</em> directory.</p>
<p>First, install the <em>virtualenv</em> package using the package manager of
your Linux distribution. For example, in Debian and Ubuntu:</p>
<pre class="literal-block">
sudo apt-get install python-virtualenv
</pre>
<p>Ztreamy requires the Python header files
and the <em>libcurl</em> with its header files to be
installed in your system. In Debian and Ubuntu they are packaged as
<cite>python-dev</cite>, <cite>libcurl3</cite> and <cite>libcurl4-openssl-dev</cite> respectively:</p>
<pre class="literal-block">
sudo apt-get install python-dev curl libcurl3 libcurl4-openssl-dev
</pre>
<p>Now, somewhere in your user account, create the <em>virtualenv</em> directory
in which Ztreamy will be installed. For example, if you call the
directory <cite>ztreamy-venv</cite>:</p>
<pre class="literal-block">
virtualenv ztreamy-venv
source ztreamy-venv/bin/activate
</pre>
<p>The first command creates the virtual environment and installs Python
inside it. The second command makes this virtual environment the
default in the current terminal. The second command has to be executed
every time a new terminal is opened for using Ztreamy.</p>
<p>Finally, you can install Ztreamy from the PyPI software repository:</p>
<pre class="literal-block">
pip install ztreamy
</pre>
</div>
<div class="section" id="upgrading-ztreamy">
<h1><a class="toc-backref" href="#id3">Upgrading Ztreamy</a></h1>
<p>If you already have an installation of Ztreamy,
<em>pip</em> can also upgrade it to the latest release:</p>
<pre class="literal-block">
source ztreamy-venv/bin/activate
pip install --upgrade ztreamy
</pre>
</div>
<div class="section" id="trying-the-installation-for-the-first-time">
<h1><a class="toc-backref" href="#id4">Trying the installation for the first time</a></h1>
<p>In order to try your installation of Ztreamy,
you'll create a new stream,
run a client to consume it
and run a source that publishes data through the stream.</p>
<p>First, remember that,
if you have installed Ztreamy inside a <em>virtualenv</em> environment,
it must be activated for every terminal
in which you run Ztreamy commands.
Enter within every terminal the command:</p>
<pre class="literal-block">
source ztreamy-venv/bin/activate
</pre>
<p>Then, run a server that publishes a stream at TCP port 9000:</p>
<pre class="literal-block">
python -m ztreamy.server --port=9000
</pre>
<p>In another terminal, launch a client to listen to that stream:</p>
<pre class="literal-block">
python -m ztreamy.client http://localhost:9000/events/stream
</pre>
<p>Finally, you need an event source that sends events to the server
in order to be published in the stream. Ztreamy integrates a tool that
creates events for testing purposes.
Enter in another terminal:</p>
<pre class="literal-block">
python -m ztreamy.tools.event_source --distribution=&quot;exp[3]&quot; http://localhost:9000/events/publish
</pre>
<p>It will create and send events to the server. The time between events
follows an exponential distribution with an average of 3 seconds.  You
should see the events arriving at the terminal in which the client is
running.</p>
<p>Alternatively to the console client,
there is an integrated JavaScript client
that allows you to watch the stream from a web browser.
Access in your browser the URL
<a class="reference external" href="http://localhost:9000/events/dashboard.html">http://localhost:9000/events/dashboard.html</a>.
The page will show the latest events in the stream
and update as soon as new events are published in the stream.</p>
<p>In order to stop the framework, type control-c in the terminals of the
event source and the server. The client will stop automatically when
the server closes.</p>
</div>
</div>
</body>
</html>
